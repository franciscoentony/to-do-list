{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 46, "column": 0}, "map": {"version":3,"sources":["file:///Users/franciscoentony/Documents/to-do-list/frontend/app/components/ButtonLogOut.tsx"],"sourcesContent":["\"use client\"\nimport React from 'react';\nimport { useRouter } from 'next/router';\n\nconst ButtonLogOut = () => {\n    const router = useRouter()\n\n    function handleLogout() {\n        localStorage.removeItem('stark_token')\n\n        router.push('/entrar')\n    }\n\n  return (\n    <button\n    onClick={handleLogout}\n     className=\"group flex items-center justify-start w-11 h-11 bg-red-600 rounded-full cursor-pointer relative overflow-hidden transition-all duration-200 shadow-lg hover:w-32 hover:rounded-lg active:translate-x-1 active:translate-y-1\">\n      <div className=\"flex items-center justify-center w-full transition-all duration-300 group-hover:justify-start group-hover:px-3\">\n        <svg className=\"w-4 h-4\" viewBox=\"0 0 512 512\" fill=\"white\">\n          <path d=\"M377.9 105.9L500.7 228.7c7.2 7.2 11.3 17.1 11.3 27.3s-4.1 20.1-11.3 27.3L377.9 406.1c-6.4 6.4-15 9.9-24 9.9c-18.7 0-33.9-15.2-33.9-33.9l0-62.1-128 0c-17.7 0-32-14.3-32-32l0-64c0-17.7 14.3-32 32-32l128 0 0-62.1c0-18.7 15.2-33.9 33.9-33.9c9 0 17.6 3.6 24 9.9zM160 96L96 96c-17.7 0-32 14.3-32 32l0 256c0 17.7 14.3 32 32 32l64 0c17.7 0 32 14.3 32 32s-14.3 32-32 32l-64 0c-53 0-96-43-96-96L0 128C0 75 43 32 96 32l64 0c17.7 0 32 14.3 32 32s-14.3 32-32 32z\" />\n        </svg>\n      </div>\n      <div className=\"absolute right-5 transform translate-x-full opacity-0 text-white text-lg font-semibold transition-all duration-300 group-hover:translate-x-0 group-hover:opacity-100\">\n        Logout\n      </div>\n    </button>\n  );\n}\n\nexport default ButtonLogOut;\n"],"names":[],"mappings":";;;;;AAEA;AAFA;;;AAIA,MAAM,eAAe;IACjB,MAAM,SAAS,IAAA,wLAAS;IAExB,SAAS;QACL,aAAa,UAAU,CAAC;QAExB,OAAO,IAAI,CAAC;IAChB;IAEF,qBACE,2RAAC;QACD,SAAS;QACR,WAAU;;0BACT,2RAAC;gBAAI,WAAU;0BACb,cAAA,2RAAC;oBAAI,WAAU;oBAAU,SAAQ;oBAAc,MAAK;8BAClD,cAAA,2RAAC;wBAAK,GAAE;;;;;;;;;;;;;;;;0BAGZ,2RAAC;gBAAI,WAAU;0BAAuK;;;;;;;;;;;;AAK5L;uCAEe"}},
    {"offset": {"line": 108, "column": 0}, "map": {"version":3,"sources":["file:///Users/franciscoentony/Documents/to-do-list/frontend/app/home/page.tsx"],"sourcesContent":["//import Navbar from \"./components/NavBar\";\n'use client'\n\nimport { useState, useEffect } from \"react\"\nimport { useRouter } from \"next/navigation\"\nimport ButtonLogOut from \"../components/ButtonLogOut\"\n\nexport default function Home() {\n  const [todos, setTodos] = useState([])\n  const [novaTarefa, setNovaTarefa] = useState(\"\")\n\n  const [editandoId, setEditandoId] = useState<number | null>(null);\n  const [textoEditado, setTextoEditado] = useState(\"\")\n\n  const router = useRouter()\n  \n  const carregarTarefas = async () => {\n    const token = localStorage.getItem('stark_token')\n\n    const response = await fetch('http://127.0.0.1:8000/api/projetos/', {\n      method: 'GET',\n      headers: {\n        'Authorization': `Bearer ${token}`,\n        'Content-Type': 'application/json'\n      },\n      cache: 'no-store'\n    })\n    if (response.ok) {\n      const data = await response.json();\n      setTodos(data)\n    } else if (response.status === 401) {\n      router.push('/login')\n    }\n  }\n\n  useEffect(() => {\n    carregarTarefas();\n  })\n\n  async function handleSubmit(e: React.FormEvent) {\n    e.preventDefault();\n\n    const response = await fetch('http://127.0.0.1:8000/api/projetos/', {\n      method: 'POST',\n      headers: { 'Content-Type': 'application/json' },\n      body: JSON.stringify({ anotacao: novaTarefa }),\n    })\n\n    if(response.ok) {\n      setNovaTarefa(\"\")\n      carregarTarefas()\n    }\n  }\n\n  async function handleDelete(id) {\n    const response = await fetch(`http://127.0.0.1:8000/api/projetos/${id}/`, {\n      method: 'DELETE',\n    });\n  \n    if (response.ok) {\n      // Atualiza a lista chamando sua função de carregar dados novamente\n      carregarTarefas();\n    }\n  }\n\n  async function handleEdit(id, novoTexto){\n    const response = await fetch(`http://127.0.0.1:8000/api/projetos/${id}/`, {\n      method: 'PATCH',\n      headers: { 'Content-Type': 'application/json' },\n      body: JSON.stringify({ anotacao: novoTexto })\n    })\n\n    if(response.ok){\n      carregarTarefas()\n      setEditandoId(null)\n    }\n  }\n  async function handleSalvar(id: number) {\n    const response = await fetch(`http://127.0.0.1:8000/api/projetos/${id}/`, {\n      method: 'PATCH',\n      headers: { 'Content-Type': 'application/json' },\n      body: JSON.stringify({ anotacao: textoEditado }),\n    });\n  \n    if (response.ok) {\n      setEditandoId(null); // Sai do modo de edição\n      carregarTarefas();   // Atualiza a lista na tela\n    }\n  }\n  return (\n    <div className=\"flex min-h-screen items-center justify-center\">\n      <div className=\"flex flex-col items-center justify-center gap-6\">\n        <form onSubmit={handleSubmit} className=\"flex gap-2\">\n          <input \n          value={novaTarefa}\n          onChange={(e) => setNovaTarefa(e.target.value)}\n          type=\"text\"\n          placeholder=\"Digite a tarefa\"\n          className=\"bg-stone-200 p-2 rounded-sm\"/>\n          <button type=\"submit\" className=\"bg-violet-500 duration-150 hover:bg-violet-700 text-white p-2 rounded-sm cursor-pointer\">Adicionar</button>\n        </form>\n        <div className=\"bg-purple-600 p-5 rounded-2xl \">\n          <ul className=\"flex flex-col gap-2\">\n            {todos.map((todo: any) => (\n              <li key={todo.id} className=\"bg-white rounded-sm p-1 flex items-center gap-5\">\n                <div className=\"flex p-2 gap-2\">\n                  {editandoId === todo.id ? (\n                    <input\n                    className=\"bg-stone-200 p-2 rounded-sm\"\n                    value={textoEditado}\n                    onChange={(e) => setTextoEditado(e.target.value)}\n                    autoFocus\n                    type=\"text\" />\n                  ) : (\n                  //<input type=\"checkbox\" name=\"\" id=\"\" className=\"p-2\"/>\n                  <p>{todo.anotacao}</p>\n                  )}\n                </div>\n                <div className=\"flex gap-1\">\n                {editandoId === todo.id ? (\n                 <button \n                 onClick={() => handleSalvar(todo.id)}\n                 className=\"bg-green-600 text-white p-2 rounded-sm cursor-pointer\"\n               >\n                 Salvar\n               </button>\n                ) : (\n                <button onClick={() => {\n                      setEditandoId(todo.id);\n                      setTextoEditado(todo.anotacao);\n                    }} type=\"button\" className=\"bg-indigo-600 text-white p-2 rounded-sm cursor-pointer\">Editar</button>\n                )}\n                  <button onClick={() => handleDelete(todo.id)} type=\"button\" className=\"bg-red-600 text-white p-2 rounded-sm cursor-pointer\">Excluir</button>\n                </div>\n              </li>\n            ))}\n          </ul>\n        </div>\n      <ButtonLogOut/>\n      </div>\n    </div>\n  );\n}\n"],"names":[],"mappings":"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"}}]
}